{
  "version": 3,
  "sources": ["../../../src/lib/tree/smart.ts"],
  "sourcesContent": ["import _ from 'lodash';\nimport { IoBrokerObjectDefinitions, myCommonChannelArray, myCommonState, myCommoneChannelObject } from '../myTypes.js';\nimport * as myHelper from '../helper.js';\nimport { Smart } from \"../types-smart.js\";\nimport { ApiEndpoints } from '../omv-rpc.js';\n\nexport namespace smart {\n    let keys: string[] | undefined = undefined;\n\n    export const idChannel = 'smart'\n\n    export const iobObjectDefintions: IoBrokerObjectDefinitions = {\n        channelName: 'S.M.A.R.T info',\n        deviceIdProperty: 'uuid',\n        deviceNameProperty: 'devicename',\n        additionalRequest: {\n            endpoint: ApiEndpoints.smartInfo,\n            conditionProperty: 'monitor',\n            paramsProperty: 'devicefile'\n        }\n    }\n\n    export function get(): { [key: string]: myCommonState | myCommoneChannelObject | myCommonChannelArray } {\n        return {\n            canonicaldevicefile: {\n                iobType: 'string',\n                name: 'canonical device file',\n            },\n            description: {\n                iobType: 'string',\n                name: 'description',\n            },\n            devicefile: {\n                iobType: 'string',\n                name: 'device file',\n            },\n            devicelinks: {\n                iobType: 'string',\n                name: 'hostname',\n                readVal(val: string, adapter: ioBroker.Adapter, deviceOrClient: Smart, id: string): ioBroker.StateValue {\n                    return JSON.stringify(val);\n                }\n            },\n            devicemodel: {\n                iobType: 'string',\n                name: 'devicemodel',\n                conditionToCreateState(objDevice: Smart, adapter: ioBroker.Adapter): boolean {\n                    return objDevice.devicemodel !== undefined && objDevice.devicemodel !== \"\";\n                },\n            },\n            devicename: {\n                id: 'devicename',\n                iobType: 'string',\n                name: 'device name',\n            },\n            firmwareversion: {\n                iobType: 'string',\n                name: 'firmwareversion',\n                conditionToCreateState(objDevice: Smart, adapter: ioBroker.Adapter): boolean {\n                    return objDevice.firmwareversion !== undefined && objDevice.firmwareversion !== \"\";\n                },\n            },\n            model: {\n                iobType: 'string',\n                name: 'model',\n            },\n            monitor: {\n                iobType: 'boolean',\n                name: 'is monitored'\n            },\n            modelfamily: {\n                iobType: 'string',\n                name: 'modelfamily',\n                conditionToCreateState(objDevice: Smart, adapter: ioBroker.Adapter): boolean {\n                    return objDevice.modelfamily !== undefined && objDevice.modelfamily !== \"\";\n                },\n            },\n            overallstatus: {\n                iobType: 'string',\n                name: 'overall status',\n            },\n            powercycles: {\n                iobType: 'number',\n                name: 'powercycles',\n            },\n            poweronhours: {\n                iobType: 'number',\n                name: 'poweronhours',\n                unit: 'h',\n            },\n            rotationrate: {\n                iobType: 'number',\n                name: 'rotationrate',\n                unit: 'rpm',\n                readVal(val: string, adapter: ioBroker.Adapter, deviceOrClient: Smart, id: string): ioBroker.StateValue {\n                    return parseInt(val.replace(' rpm', ''));\n                }\n            },\n            serialnumber: {\n                iobType: 'string',\n                name: 'serialnumber',\n            },\n            size: {\n                iobType: 'number',\n                name: 'size',\n                unit: 'TB',\n                readVal(val: number, adapter: ioBroker.Adapter, deviceOrClient: Smart, id: string): ioBroker.StateValue {\n                    return Math.round(val / 1024 / 1024 / 1024 / 1024 * 1000) / 1000;\n                }\n            },\n            temperature: {\n                iobType: 'number',\n                name: 'temperature',\n                unit: '\u00B0C',\n                conditionToCreateState(objDevice: Smart, adapter: ioBroker.Adapter): boolean {\n                    return objDevice.temperature > 0;\n                },\n                readVal: function (val: number, adapter: ioBroker.Adapter, deviceOrClient: Smart, id: string): ioBroker.StateValue {\n                    return Math.round(val * 10) / 10;\n                },\n            },\n            uuid: {\n                iobType: 'string',\n                name: 'uuid',\n            },\n            vendor: {\n                iobType: 'string',\n                name: 'vendor',\n            },\n        }\n    }\n\n    export function getKeys(): string[] {\n        if (keys === undefined) {\n            keys = myHelper.getAllKeysOfTreeDefinition(get());\n        }\n\n        return keys\n    }\n\n    export function getStateIDs(): string[] {\n        return myHelper.getAllIdsOfTreeDefinition(get());\n    }\n}"],
  "mappings": "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",
  "names": ["smart"]
}
